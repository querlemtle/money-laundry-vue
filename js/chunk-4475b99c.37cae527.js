(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4475b99c","chunk-96404f58"],{"1e5d":function(t,e,n){},"1f9e":function(t,e,n){"use strict";n("3bbf")},"23e4":function(t,e,n){"use strict";n("1e5d")},2708:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c}));var i=n("5a0c"),s=n.n(i),a=n("4208"),r=n.n(a);s.a.extend(r.a),n("5087");const o={filters:{fromNow(t){return t?s()(t).locale("zh-tw").fromNow():"-"}}},c={filters:{customDateFormat(t){return t?s()(t).locale("zh-tw").format("a h:mm"):"-"}}}},"3bbf":function(t,e,n){},4208:function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";return function(t,e,n){t=t||{};var i=e.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(t,e,n,s){return i.fromToBase(t,e,n,s)}n.en.relativeTime=s,i.fromToBase=function(e,i,a,r,o){for(var c,u,l,d=a.$locale().relativeTime||s,f=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],h=f.length,m=0;m<h;m+=1){var _=f[m];_.d&&(c=r?n(e).diff(a,_.d,!0):a.diff(e,_.d,!0));var v=(t.rounding||Math.round)(Math.abs(c));if(l=c>0,v<=_.r||!_.r){v<=1&&m>0&&(_=f[m-1]);var y=d[_.l];o&&(v=o(""+v)),u="string"==typeof y?y.replace("%d",v):y(v,i,_.l,l);break}}if(i)return u;var p=l?d.future:d.past;return"function"==typeof p?p(u):p.replace("%s",u)},i.to=function(t,e){return a(t,e,this,!0)},i.from=function(t,e){return a(t,e,this)};var r=function(t){return t.$u?n.utc():n()};i.toNow=function(t){return this.to(r(this),t)},i.fromNow=function(t){return this.from(r(this),t)}}}))},"44f4":function(t,e,n){"use strict";n("afbf")},4582:function(t,e,n){"use strict";n("4792")},4792:function(t,e,n){},5087:function(t,e,n){!function(e,i){t.exports=i(n("5a0c"))}(0,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t),i={name:"zh-tw",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(t,e){return"W"===e?t+"週":t+"日"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"},meridiem:function(t,e){var n=100*t+e;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(i,null,!0),i}))},5407:function(t,e,n){"use strict";var i=function(){var t=this,e=t._self._c;return e("header",{staticClass:"site-header sticky-top py-1"},[e("nav",{staticClass:"container col-10 d-flex flex-column flex-md-row justify-content-between"},[t._m(0),e("p",{staticClass:"py-2 d-none d-md-inline-block"},[t._v("管理者，您好")]),e("div",{staticClass:"py-2 d-none d-md-inline-block",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.logout.apply(null,arguments)}}},[t._v(" 登出 ")])])])},s=[function(){var t=this,e=t._self._c;return e("a",{staticClass:"py-2",attrs:{href:"#","aria-label":"Product"}},[e("img",{attrs:{src:n("6a5e"),alt:"logo"}})])}],a={name:"AdminHeader",methods:{logout(){this.$store.commit("revokeAuthentication"),this.$router.push("/admin/login")}}},r=a,o=(n("1f9e"),n("2877")),c=Object(o["a"])(r,i,s,!1,null,"07c191bc",null);e["a"]=c.exports},"5a0c":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t=1e3,e=6e4,n=36e5,i="millisecond",s="second",a="minute",r="hour",o="day",c="week",u="month",l="quarter",d="year",f="date",h="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},y=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},p={s:y,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),s=n%60;return(e<=0?"+":"-")+y(i,2,"0")+":"+y(s,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),s=e.clone().add(i,u),a=n-s<0,r=e.clone().add(i+(a?-1:1),u);return+(-(i+(n-s)/(a?s-r:r-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:d,w:c,d:o,D:f,h:r,m:a,s:s,ms:i,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",$={};$[g]=v;var w=function(t){return t instanceof Y},M=function t(e,n,i){var s;if(!e)return g;if("string"==typeof e){var a=e.toLowerCase();$[a]&&(s=a),n&&($[a]=n,s=a);var r=e.split("-");if(!s&&r.length>1)return t(r[0])}else{var o=e.name;$[o]=e,s=o}return!i&&s&&(g=s),s||!i&&g},b=function(t,e){if(w(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new Y(n)},D=p;D.l=M,D.i=w,D.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var Y=function(){function v(t){this.$L=M(t.locale,null,!0),this.parse(t)}var y=v.prototype;return y.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(D.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(m);if(i){var s=i[2]-1||0,a=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},y.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},y.$utils=function(){return D},y.isValid=function(){return!(this.$d.toString()===h)},y.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},y.isAfter=function(t,e){return b(t)<this.startOf(e)},y.isBefore=function(t,e){return this.endOf(e)<b(t)},y.$g=function(t,e,n){return D.u(t)?this[e]:this.set(n,t)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(t,e){var n=this,i=!!D.u(e)||e,l=D.p(t),h=function(t,e){var s=D.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return i?s:s.endOf(o)},m=function(t,e){return D.w(n.toDate()[t].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},_=this.$W,v=this.$M,y=this.$D,p="set"+(this.$u?"UTC":"");switch(l){case d:return i?h(1,0):h(31,11);case u:return i?h(1,v):h(0,v+1);case c:var g=this.$locale().weekStart||0,$=(_<g?_+7:_)-g;return h(i?y-$:y+(6-$),v);case o:case f:return m(p+"Hours",0);case r:return m(p+"Minutes",1);case a:return m(p+"Seconds",2);case s:return m(p+"Milliseconds",3);default:return this.clone()}},y.endOf=function(t){return this.startOf(t,!1)},y.$set=function(t,e){var n,c=D.p(t),l="set"+(this.$u?"UTC":""),h=(n={},n[o]=l+"Date",n[f]=l+"Date",n[u]=l+"Month",n[d]=l+"FullYear",n[r]=l+"Hours",n[a]=l+"Minutes",n[s]=l+"Seconds",n[i]=l+"Milliseconds",n)[c],m=c===o?this.$D+(e-this.$W):e;if(c===u||c===d){var _=this.clone().set(f,1);_.$d[h](m),_.init(),this.$d=_.set(f,Math.min(this.$D,_.daysInMonth())).$d}else h&&this.$d[h](m);return this.init(),this},y.set=function(t,e){return this.clone().$set(t,e)},y.get=function(t){return this[D.p(t)]()},y.add=function(i,l){var f,h=this;i=Number(i);var m=D.p(l),_=function(t){var e=b(h);return D.w(e.date(e.date()+Math.round(t*i)),h)};if(m===u)return this.set(u,this.$M+i);if(m===d)return this.set(d,this.$y+i);if(m===o)return _(1);if(m===c)return _(7);var v=(f={},f[a]=e,f[r]=n,f[s]=t,f)[m]||1,y=this.$d.getTime()+i*v;return D.w(y,this)},y.subtract=function(t,e){return this.add(-1*t,e)},y.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var i=t||"YYYY-MM-DDTHH:mm:ssZ",s=D.z(this),a=this.$H,r=this.$m,o=this.$M,c=n.weekdays,u=n.months,l=function(t,n,s,a){return t&&(t[n]||t(e,i))||s[n].slice(0,a)},d=function(t){return D.s(a%12||12,t,"0")},f=n.meridiem||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,"0"),MMM:l(n.monthsShort,o,u,3),MMMM:l(u,o),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,c,2),ddd:l(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(a),HH:D.s(a,2,"0"),h:d(1),hh:d(2),a:f(a,r,!0),A:f(a,r,!1),m:String(r),mm:D.s(r,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z:s};return i.replace(_,(function(t,e){return e||m[t]||s.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(i,f,h){var m,_=D.p(f),v=b(i),y=(v.utcOffset()-this.utcOffset())*e,p=this-v,g=D.m(this,v);return g=(m={},m[d]=g/12,m[u]=g,m[l]=g/3,m[c]=(p-y)/6048e5,m[o]=(p-y)/864e5,m[r]=p/n,m[a]=p/e,m[s]=p/t,m)[_]||p,h?g:D.a(g)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return $[this.$L]},y.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=M(t,e,!0);return i&&(n.$L=i),n},y.clone=function(){return D.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),C=Y.prototype;return b.prototype=C,[["$ms",i],["$s",s],["$m",a],["$H",r],["$W",o],["$M",u],["$y",d],["$D",f]].forEach((function(t){C[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,Y,b),t.$i=!0),b},b.locale=M,b.isDayjs=w,b.unix=function(t){return b(1e3*t)},b.en=$[g],b.Ls=$,b.p={},b}))},a83b:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[t.isDelete?e("DeleteOption",{staticClass:"delModal",attrs:{itemname:t.itemName,itemid:t.itemId},on:{canceldelete:t.canceldelete}}):t._e(),e("AdminHeader"),e("AdminNavPills",{on:{category:t.choosecategory}}),e("DataList",{attrs:{itemlist:t.datalist},on:{delete:t.deletemodal}})],1)},s=[],a=(n("d9e2"),n("5407")),r=n("c618"),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mt-4 mb-2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("ul",{staticClass:"nav nav-pills"},[e("li",{staticClass:"nav-item",on:{click:function(e){return t.cahangecategory()}}},[e("router-link",{staticClass:"nav-link",attrs:{"aria-current":"page",to:"newest"}},[t._v("最近更新")])],1),t._l(t.categories,(function(n){return e("li",{key:n.id,staticClass:"nav-item",on:{click:function(e){return t.cahangecategory(n.id)}}},[e("router-link",{staticClass:"nav-link",attrs:{to:{path:""+n.id}}},[t._v(t._s(n.type))])],1)})),e("li",{staticClass:"ms-auto"},[e("router-link",{staticClass:"btn btn-warning",attrs:{to:{path:"/admin/option/new"}}},[t._v("新增選項")])],1)],2)])])])},c=[],u=n("e362"),l={data(){return{categories:[]}},methods:{cahangecategory(t){this.$emit("category",t)},async fetchCategories(){try{const t=await u["b"].getcategories();if(200!==t.status)throw new Error(t.data.message);this.categories=t.data.data}catch(t){console.log(t.response.data.message)}}},created(){this.fetchCategories()}},d=l,f=(n("b432"),n("2877")),h=Object(f["a"])(d,o,c,!1,null,"2e12f51e",null),m=h.exports,_=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"box d-flex"},[e("i",{staticClass:"fa-solid fa-triangle-exclamation fa-3x mx-4"}),e("div",{staticClass:"text"},[e("div",{staticClass:"title"},[t._v("是否確認刪除？")]),e("div",{staticClass:"content"},[t._v("選項："+t._s(t.itemname))]),e("div",{staticClass:"btnarea"},[e("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.deleteOption(t.itemid)}}},[t._v(" 確認 ")]),e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v(" 取消 ")])])])])])},v=[],y=n("678d"),p=n("2fa3"),g={props:{itemname:{type:String,default:""},itemid:{type:Number,default:0}},methods:{async deleteOption(t){try{const e=await y["a"].deleteitem(t);if(200!==e.status)throw new Error(e.data.message);p["a"].fire({icon:"success",title:"刪除成功！"}),await this.cancel()}catch(e){p["a"].fire({icon:"error",title:e.response.data.message})}},cancel(){this.$emit("canceldelete")}}},$=g,w=(n("4582"),Object(f["a"])($,_,v,!1,null,"86d8ad62",null)),M=w.exports,b={data(){return{datalist:[],category_id:"",isDelete:!1,itemId:"",itemName:""}},components:{AdminHeader:a["a"],DataList:r["default"],AdminNavPills:m,DeleteOption:M},methods:{async fetchlatest(){try{const t=await y["a"].getlatest();if(200!==t.status)throw new Error(t.data.message);this.datalist=t.data.data.items}catch(t){console.log(t.response.data.message)}},async fetcategoryitem(t){try{const e=await y["a"].getcategoryitem(t);if(200!==e.status)throw new Error(e.data.message);this.datalist=e.data.data.items}catch(e){console.log(e.response.data.message)}},choosecategory(t){this.category_id=t,this.category_id>0?this.fetcategoryitem(this.category_id):this.fetchlatest()},deletemodal(t,e){this.isDelete=!0,this.itemName=t,this.itemId=e},canceldelete(){this.isDelete=!1,this.choosecategory(this.category_id)}},created(){this.category_id=this.$route.params.category_id,this.category_id>0?this.fetcategoryitem(this.category_id):this.fetchlatest()}},D=b,Y=(n("23e4"),Object(f["a"])(D,i,s,!1,null,"017a47e5",null));e["default"]=Y.exports},afbf:function(t,e,n){},b432:function(t,e,n){"use strict";n("c8fb")},c618:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("table",{staticClass:"table"},[t._m(0),e("tbody",t._l(t.itemlist,(function(n){return e("tr",{key:n.id},[e("th",{attrs:{scope:"row"}},[t._v(t._s(n.category))]),e("td",[t._v(t._s(n.level))]),e("td",[t._v(t._s(n.name))]),e("td",[t._v(t._s(n.isPublished?"已發布":"草稿"))]),e("td",[t._v(t._s(t._f("fromNow")(n.updatedAt)))]),e("td",[t._v(t._s(n.isLegal?"是":"否"))]),e("td",[e("span",{on:{click:function(e){return t.edititem(n.id)}}},[e("i",{staticClass:"fa-solid fa-pen-to-square"})]),e("span",{on:{click:function(e){return t.deleteitem(n.name,n.id)}}},[e("i",{staticClass:"fa-solid fa-trash-can"})])])])})),0)])])])])},s=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"table-head"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("類別")]),e("th",{attrs:{scope:"col"}},[t._v(" 所屬關卡 "),e("i",{staticClass:"fa-solid fa-caret-down c-black"})]),e("th",{attrs:{scope:"col"}},[t._v("選項")]),e("th",{attrs:{scope:"col"}},[t._v("狀態")]),e("th",{attrs:{scope:"col"}},[t._v("更新日期")]),e("th",{attrs:{scope:"col"}},[t._v("是否合法")]),e("th",{attrs:{scope:"col"}},[t._v("功能")])])])}],a=n("2708"),r={name:"DataList",props:{itemlist:{type:Array,required:!0}},mixins:[a["b"]],methods:{edititem(t){this.$store.commit("setOption",t),this.$router.push("/admin/option/"+t)},deleteitem(t,e){this.$emit("delete",t,e)}}},o=r,c=(n("44f4"),n("2877")),u=Object(c["a"])(o,i,s,!1,null,"524a4a24",null);e["default"]=u.exports},c8fb:function(t,e,n){}}]);
//# sourceMappingURL=chunk-4475b99c.37cae527.js.map